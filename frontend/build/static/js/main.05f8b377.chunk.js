(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){},117:function(e,t,n){},186:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(74),i=n.n(s),o=n(7),c=n(4),l=n(78),u=n(1),d=function(e){return{loggedIn:e.session.isAuthenticated}},p=Object(u.g)(Object(o.b)(d)(function(e){var t=e.component,n=e.path,a=e.loggedIn,s=e.exact;return r.a.createElement(u.b,{path:n,exact:s,render:function(e){return a?r.a.createElement(u.a,{to:"/wordlists"}):r.a.createElement(t,e)}})})),m=Object(u.g)(Object(o.b)(d)(function(e){var t=e.component,n=e.loggedIn,a=Object(l.a)(e,["component","loggedIn"]);return r.a.createElement(u.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(u.a,{to:"/"})}}))})),h=n(12),E=n(13),f=n(15),b=n(14),v=n(16),O=n(18),g=n.n(O),w=function(e){e?g.a.defaults.headers.common.Authorization=e:delete g.a.defaults.headers.common.Authorization},y=n(35),j=n.n(y),S=function(e){return{type:"RECEIVE_SESSION_ERRORS",errors:e}},k=function(e){return function(t){return(n=e,g.a.post("/api/users/register",n)).then(function(){return t({type:"RECEIVE_USER_SIGN_IN"})},function(e){return t(S(e.response.data))});var n}},N=function(e){return function(t){return(n=e,g.a.post("/api/users/login",n)).then(function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),w(n);var a=j()(n);t({type:"RECEIVE_CURRENT_USER",currentUser:a})}).catch(function(e){t(S(e.response.data))});var n}},C=n(19),L=n(23),_=n.n(L),I=n(36),R=n(3),T=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={handle:"",password:"",errors:{}},n.demoLogin=n.demoLogin.bind(Object(R.a)(Object(R.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(R.a)(Object(R.a)(n))),n.renderErrors=n.renderErrors.bind(Object(R.a)(Object(R.a)(n))),n}return Object(v.a)(t,e),Object(E.a)(t,[{key:"demoLogin",value:function(){var e=Object(I.a)(_.a.mark(function e(t){var n,a,r,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={handle:"tester",password:"tester"},a=function(e){return new Promise(function(t){return setTimeout(t,e)})},document.getElementById("handle").focus(),r=1;case 5:if(!(r<=n.handle.length)){e.next=12;break}return this.setState({handle:n.handle.substr(0,r)}),e.next=9,a(50);case 9:r++,e.next=5;break;case 12:return e.next=14,a(250);case 14:document.getElementById("password-input").focus(),s=1;case 16:if(!(s<=n.password.length)){e.next=23;break}return this.setState({password:n.password.substr(0,s)}),e.next=20,a(50);case 20:s++,e.next=16;break;case 23:return e.next=25,a(250);case 25:document.getElementById("submit-login").click(),document.getElementById("password-input").blur();case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){!0===e.currentUser&&this.props.history.push("/"),this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(C.a)({},e,n.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={handle:this.state.handle,password:this.state.password};this.props.login(t)}},{key:"renderErrors",value:function(){var e=this;return r.a.createElement("ul",null,Object.keys(this.state.errors).map(function(t,n){return r.a.createElement("li",{key:"error-".concat(n)},e.state.errors[t])}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-form-box"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"login-form"},r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"input-field",id:"handle",value:this.state.handle,onChange:this.update("handle"),placeholder:"Handle"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"password-input",className:"input-field",value:this.state.password,onChange:this.update("password"),placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("input",{className:"submit-btn",id:"submit-login",type:"submit",value:"Submit"}),r.a.createElement("input",{className:"demo-user-btn",type:"submit",value:"Demo User",onClick:this.demoLogin}),this.renderErrors(),r.a.createElement("br",null),r.a.createElement("p",{className:"signup-text"},"Don't have an account?",r.a.createElement(c.b,{className:"signup-link",to:"/signup"},"Signup"),"here!"))))}}]),t}(r.a.Component),x=Object(u.g)(T),A=Object(o.b)(function(e){return{errors:e.errors.session}},function(e){return{login:function(t){return e(N(t))}}})(x),U=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bg"},r.a.createElement("h1",null,"Internet Bingo"),r.a.createElement("div",{className:"splash-right-box"},r.a.createElement(A,null)))}}]),t}(r.a.Component),D=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={handle:"",password:"",password2:"",errors:{}},n.handleSubmit=n.handleSubmit.bind(Object(R.a)(Object(R.a)(n))),n.clearedErrors=!1,n}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.signedIn&&this.props.history.push("/"),this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(C.a)({},e,n.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={handle:this.state.handle,password:this.state.password,password2:this.state.password2};this.props.signup(t,this.props.history)}},{key:"renderErrors",value:function(){var e=this;return r.a.createElement("ul",null,Object.keys(this.state.errors).map(function(t,n){return r.a.createElement("li",{key:"error-".concat(n)},e.state.errors[t])}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"bg"},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"signup-form-box"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"signup-form"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"text",className:"input-field",value:this.state.handle,onChange:this.update("handle"),placeholder:"Handle"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"input-field",value:this.state.password,onChange:this.update("password"),placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",className:"input-field",value:this.state.password2,onChange:this.update("password2"),placeholder:"Confirm Password"}),r.a.createElement("br",null),r.a.createElement("input",{className:"submit-btn",type:"submit",value:"Submit"}),this.renderErrors(),r.a.createElement("p",null,"Already have an account?",r.a.createElement(c.b,{className:"login-link",to:"/"},"Login")))))))}}]),t}(r.a.Component),P=Object(u.g)(D),W=Object(o.b)(function(e){return{signedIn:e.session.isSignedIn,errors:e.errors.session}},function(e){return{signup:function(t){return e(k(t))}}})(P),z=function(e){return function(t){return function(e){return g.a.get("/api/wordlists/user/".concat(e))}(e).then(function(e){return t(function(e){return{type:"RECEIVE_USER_WORD_LISTS",lists:e}}(e))}).catch(function(e){return console.log(e)})}},M=function(e){return function(t){return function(e){return g.a.post("/api/wordlists/",e)}(e).then(function(e){return t({type:"RECEIVE_NEW_WORD_LIST",wordList:e})}).catch(function(e){return console.log(e)})}},V=function(e){return function(t){return function(e){return g.a.delete("/api/wordlists/".concat(e))}(e).then(function(){return t(function(e){return{type:"REMOVE_WORD_LIST",id:e}}(e))}).catch(function(e){return console.log(e)})}},B=n(22),G=n(76),H=function(e){return r.a.createElement("div",{className:"word"},r.a.createElement("li",{key:e.idx},r.a.createElement("div",null,r.a.createElement(G.CopyToClipboard,{text:e.phrase},r.a.createElement("button",null,r.a.createElement("div",null,r.a.createElement("span",{title:"Copy Phrase","aria-label":"Copy Phrase",role:"img"},"\ud83d\udccb")))),e.phrase),e.delete?r.a.createElement("button",{onClick:e.delete},r.a.createElement("div",null,r.a.createElement("span",{title:"Delete Phrase","aria-label":"Delete Phrase",role:"img"},"\ud83d\uddd1\ufe0f"))):""))},J=(n(57),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).props.location.list?n.state=n.props.location.list:n.state={name:"".concat(e.currentUser.handle,"'s New Phrase List ").concat((new Date).toLocaleDateString()),unlisted:!1,words:[]},document.title="Compose New Phrase List - Internet Bingo",n.handleSubmit=n.handleSubmit.bind(Object(R.a)(Object(R.a)(n))),n.saveWordList=n.saveWordList.bind(Object(R.a)(Object(R.a)(n))),n.deletePhraseAt=n.deletePhraseAt.bind(Object(R.a)(Object(R.a)(n))),n}return Object(v.a)(t,e),Object(E.a)(t,[{key:"selectID",value:function(e){e.target.select()}},{key:"saveWordList",value:function(e){e.preventDefault(),this.state.words.length>5&&(this.props.saveWordList(this.state),this.props.history.push("/wordlists"))}},{key:"handleSubmit",value:function(e){e.preventDefault(),e.currentTarget.firstChild.value.length>0&&(this.setState({words:[].concat(Object(B.a)(this.state.words),[e.currentTarget.firstChild.value])}),e.currentTarget.firstChild.value="")}},{key:"deletePhraseAt",value:function(e){var t=this;return function(n){var a=t.state.words;a.splice(e,1),t.setState({words:a})}}},{key:"updateName",value:function(){var e=this;return function(t){return e.setState({name:t.currentTarget.value})}}},{key:"updateListed",value:function(){var e=this;return function(t){return e.setState({unlisted:t.currentTarget.checked})}}},{key:"render",value:function(){var e=this,t=this.state.words.map(function(t,n){return r.a.createElement(H,{phrase:t,idx:n,delete:e.deletePhraseAt(n)})});return r.a.createElement("div",{className:"new-wordlist"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:this.state.name,onChange:this.updateName(),onFocus:this.selectID}),r.a.createElement("div",{className:this.state.words.length>5?"save-button":"save-button-disabled",onClick:this.saveWordList},"SAVE"),r.a.createElement("div",{className:this.state.words.length>5?"hidden":"disclaimer"},"Lists have a strict minimum of 24 words."),r.a.createElement("ul",{className:"wordlist"},t),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",placeholder:"add new word"}),r.a.createElement("input",{type:"submit",value:"Add to List"})),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",onChange:this.updateListed(),checked:this.state.unlisted}),"Private List")),r.a.createElement(c.b,{to:"/wordlists"},r.a.createElement("div",null,"Back to List of Lists")))}}]),t}(r.a.Component)),F=Object(u.g)(J),K=Object(o.b)(function(e){return{currentUser:e.session.user}},function(e){return{saveWordList:function(t){return e(M(t))}}})(F);var q=function(e){return Object(a.useEffect)(function(){function t(){return(t=Object(I.a)(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchUserWordLists(e.currentUser.id);case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}document.title="List of Phrase Lists - Internet Bingo",function(){t.apply(this,arguments)}()},[]),r.a.createElement("div",{className:"wordlists"},r.a.createElement("div",{className:"wordlists-panel"},e.lists.map(function(t,n){return r.a.createElement("ul",{key:n},r.a.createElement("div",{className:"title"},r.a.createElement(c.b,{to:{pathname:"/game/".concat(t._id),list:t}},r.a.createElement("div",null,t.name)),r.a.createElement(c.b,{to:{pathname:"/wordlists/".concat(t._id),list:t}},r.a.createElement("div",null,"\u270f\ufe0f"))),r.a.createElement("div",null,t.words.map(function(e,t){return r.a.createElement(H,{phrase:e,idx:t,key:t})})),r.a.createElement("div",{className:"delete",onClick:function(){return e.removeWordList(t._id)}},"DELETE LIST"))})),r.a.createElement(c.b,{to:"/wordlists/new"},r.a.createElement("div",null,"Compose New Phrase List")))},Q=Object(o.b)(function(e){return{currentUser:e.session.user,lists:Object.values(e.lists.user)}},function(e){return{fetchUserWordLists:function(t){return e(z(t))},removeWordList:function(t){return e(V(t))}}})(q),X=(n(115),function(e){function t(e){var n;Object(h.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).rows=function(){for(var e=0;e<n.props.size;e++){for(var t=!0,a=0;a<n.props.size;a++)!1===n.state[e+":"+a]&&(t=!1);if(t)return t}},n.columns=function(){for(var e=0;e<n.props.size;e++){for(var t=!0,a=0;a<n.props.size;a++)!1===n.state[a+":"+e]&&(t=!1);if(t)return t}},n.diagonalA=function(){for(var e=!0,t=0;t<n.props.size;t++)!1===n.state[t+":"+t]&&(e=!1);return e},n.diagonalB=function(){for(var e=!0,t=0;t<n.props.size;t++)!1===n.state[t+":"+(n.props.size-1-t)]&&(e=!1);return e},n.win=function(){return n.rows()||n.columns()||n.diagonalA()||n.diagonalB()},n.blackout=function(){return n.keysArray.every(function(e){return n.state[e]})};for(var a={},r=0;r<n.props.size;r++)for(var s=0;s<n.props.size;s++)a[r+":"+s]=!1;return n.state=a,n.sizeArray=Object(B.a)(Array(n.props.size).keys()),n.keysArray=Object.keys(n.state),n}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.list?this.props.location.list.words.slice():["food","dood","pood","lood","nood","rood","tood","yood","zood"],n=r.a.createElement("table",null,r.a.createElement("tbody",null,this.sizeArray.map(function(n){return r.a.createElement("tr",{key:n},e.sizeArray.map(function(a){var s=n+":"+a;return r.a.createElement("td",{key:a,className:e.state[s]?"clicked":"unclicked",onClick:function(){return e.setState(Object(C.a)({},s,!e.state[s]))}},t.pop())}))})));return r.a.createElement("div",{className:"game"},n,this.win()?"WINRAR":"",r.a.createElement("div",null),this.blackout()?"BLACKOUT":"")}}]),t}(r.a.Component)),Y=Object(u.g)(X),Z=(n(117),function(){return r.a.createElement("div",{className:"app"},r.a.createElement("main",{className:"main"},r.a.createElement(u.d,null,r.a.createElement(p,{exact:!0,path:"/",component:U}),r.a.createElement(p,{exact:!0,path:"/signup",component:W}),r.a.createElement(m,{exact:!0,path:"/wordlists/",component:Q}),r.a.createElement(m,{exact:!0,path:"/wordlists/new",component:K}),r.a.createElement(m,{exact:!0,path:"/wordlists/:id",component:K}),r.a.createElement(u.b,{path:"/game"},r.a.createElement(Y,{size:3})))))}),$=function(e){var t=e.store;return r.a.createElement(o.a,{store:t},r.a.createElement(c.a,null,r.a.createElement(Z,null)))},ee=n(17),te=n(77),ne=(n(119),n(46)),ae={isAuthenticated:!1,user:{}},re=[],se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_SESSION_ERRORS":return t.errors;case"RECEIVE_CURRENT_USER":return re;default:return e}},ie=Object(ee.c)({session:se}),oe={userModalOpen:!1,contactUsModalOpen:!1,itemModal:{open:!1,data:null,clothingtype:null}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"CLOSE_CONTACT_MODAL":return Object.assign({},e,{contactUsModalOpen:!1});case"OPEN_CONTACT_MODAL":return Object.assign({},e,{contactUsModalOpen:!0});case"CLOSE_USER_MODAL":return Object.assign({},e,{userModalOpen:!1});case"OPEN_USER_MODAL":return Object.assign({},e,{userModalOpen:!0});case"CLOSE_ITEM_MODAL":return Object.assign({},e,{itemModal:{open:!1,data:null,clothingtype:null}});case"OPEN_ITEM_MODAL":return Object.assign({},e,{itemModal:{open:!0,data:t.data,clothingtype:t.clothingtype}});default:return e}},le=n(47),ue=n.n(le),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:{},user:{},new:{}},t=arguments.length>1?arguments[1]:void 0;Object.freeze(e);var n=Object.assign({},e);switch(t.type){case"RECEIVE_USER_WORD_LISTS":return n.user=t.lists.data,n;case"RECEIVE_NEW_WORD_LIST":return(n=ue()({},e)).user=[t.wordList.data].concat(Object(B.a)(n.user)),n;case"REMOVE_WORD_LIST":return console.log("removing ".concat(t.id)),(n=ue()({},e)).user=n.user.filter(function(e){return e._id!==t.id}),n;default:return e}},pe=Object(ee.c)({errors:ie,session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_CURRENT_USER":return Object(ne.a)({},e,{isAuthenticated:!!t.currentUser,user:t.currentUser});case"RECEIVE_USER_LOGOUT":return{isAuthenticated:!1,user:void 0};case"RECEIVE_USER_SIGN_IN":return Object(ne.a)({},e,{isSignedIn:!0});default:return e}},ui:ce,lists:de}),me=[te.a];var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(ee.d)(pe,e,ee.a.apply(void 0,me))};document.addEventListener("DOMContentLoaded",function(){var e;if(localStorage.jwtToken){w(localStorage.jwtToken);var t=j()(localStorage.jwtToken);e=he({session:{isAuthenticated:!0,user:t}});var n=Date.now()/1e3;t.exp<n&&(e.dispatch(function(e){localStorage.removeItem("jwtToken"),w(!1),e({type:"RECEIVE_USER_LOGOUT"})}),window.location.href="/")}else e=he({});var a=document.getElementById("root");i.a.render(r.a.createElement($,{store:e}),a)})},57:function(e,t,n){},79:function(e,t,n){e.exports=n(186)}},[[79,2,1]]]);
//# sourceMappingURL=main.05f8b377.chunk.js.map